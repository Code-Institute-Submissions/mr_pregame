{% extends "base.html" %}
{% load static %}

{% block extra_js %}
    <!--Chart js-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.2.0/chart.min.js" integrity="sha512-VMsZqo0ar06BMtg0tPsdgRADvl0kDHpTbugCBBrL55KmucH6hP9zWdLIWY//OTfMnzz6xWQRxQqsUFefwHuHyg==" crossorigin="anonymous"></script>
{% endblock %}

{% block content %}
    <div id="content">
        <div class="container-fluid">           
            <div class="row mb-2">
                <div class="col-12 col-md-6 col-lg-3">
                    <div id="carousel">
                        {% include 'mlb_includes/mlb_carousel.html' %}
                    </div>
                    <div id="info-box" >    
                        {% include 'mlb_includes/mlb_info_box.html' %}
                    </div>
                </div>
                <div class="col-12 col-md-6 col-lg-6">
                    <div id="pitchers" class="mb-4">
                        {% include 'mlb_includes/mlb_pitchers.html' %}
                    </div>
                    <div id="runs-chart" class="d-none position-relative">
                        {% include 'mlb_includes/mlb_runs.html' %}
                    </div> 
                    <div id="stat-box">
                        {% include 'mlb_includes/mlb_stat_box.html' %}
                    </div>
                </div>
                <div class="col-12 col-md-4 col-lg-3">
                    <div id="twitter_accordion">
                        {% include 'mlb_includes/twitter.html' %}
                    </div>
                </div>
            </div>
        </div>    
    </div>      
{% endblock %}

{% block postloadjs %}
    {{ block.super }}
    <script>
        var home = [];
            '{% for home in home_stats.home_ten %}'
                home.push(parseInt('{{ home.runs }}'))
            '{% endfor %}'
            
        var home_team = '{{ home_stats.nickname }}'

        var away = [];
            '{% for away in away_stats.away_ten %}'
                away.push(parseInt('{{ away.runs }}'))
            '{% endfor %}' 

        var away_team = '{{ away_stats.nickname }}'
        
        var labels = [];
            '{% for games in away_stats.away_ten %}'
                labels.push(parseInt('{{ forloop.counter }}'))
            '{% endfor %}'
    </script>
    <script type="text/javascript" src="{% static 'js/matchup.js' %}"></script>
  
{% endblock %}
                            